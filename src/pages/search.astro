---
import { getCollection } from 'astro:content'
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts'
import Layout from '../layouts/Layout.astro'
import PageSearch from "astro-pagefind/components/Search";
const collection = await getCollection('posts')
const posts = collection.sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
)
---

<Layout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <main>
    <PageSearch
      id='search'
      className='pagefind-ui'
      uiOptions={{ showImages: false }}
    />
  </main>
  <style is:global>
    :root {
      --pagefind-ui-scale: 0.8;
      --pagefind-ui-primary: #3b82f6;
      --pagefind-ui-text: #3f3f46;
      --pagefind-ui-background: #ffffff;
      --pagefind-ui-border: #e4e4e7;
      --pagefind-ui-tag: #f4f4f5;
    }
    /* 适配深色模式 */
    .dark {
      --pagefind-ui-primary: #60a5fa;
      --pagefind-ui-text: #d4d4d8;
      --pagefind-ui-background: #18181b;
      --pagefind-ui-border: #27272a;
      --pagefind-ui-tag: #27272a;
    }
    .pagefind-ui {
      width: 100%;
    }
  </style>
</Layout>
